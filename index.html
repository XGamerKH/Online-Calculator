<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="main.css">
    <script>
        const allClear=()=>{document.getElementById("mainDisplay").innerHTML="",document.getElementById("secondDisplay").innerHTML="0",document.getElementById("secondDisplay").style.visibility="hidden"},numberBtn=e=>{document.getElementById("secondDisplay").innerHTML.includes("=")&&!document.getElementById("secondDisplay").innerHTML.includes("%")?(allClear(),document.getElementById("mainDisplay").innerHTML+=String(e)):")"===document.getElementById("mainDisplay").innerHTML.slice(-1)?document.getElementById("mainDisplay").innerHTML+=`×(${e}`:document.getElementById("mainDisplay").innerHTML+=String(e)},signBtn=e=>{if(document.getElementById("secondDisplay").innerHTML.includes("%"))document.getElementById("mainDisplay").innerHTML+=e;else if(!document.getElementById("secondDisplay").innerHTML.includes("=")&&document.getElementById("mainDisplay").innerHTML){const n=document.getElementById("mainDisplay").innerHTML,t=n[n.length-1];"×"===t||"÷"===t||"-"===t||"+"===t||(document.getElementById("mainDisplay").innerHTML=document.getElementById("mainDisplay").innerHTML+e)}},easterEgg=()=>{"19072004"===document.getElementById("mainDisplay").innerHTML&&("inline-block"===document.getElementById("message").style.display?(document.getElementById("message").style.display="none",document.getElementById("container-feature").style.display="none"):(document.getElementById("message").style.display="inline-block",document.getElementById("container-feature").style.display="block")),"69"===document.getElementById("mainDisplay").innerHTML&&(window.location.href="https://www.youtube.com/watch?v=dQw4w9WgXcQ")},minus=()=>{if(document.getElementById("secondDisplay").innerHTML.includes("%"))document.getElementById("mainDisplay").innerHTML+="-";else if(document.getElementById("secondDisplay").innerHTML.includes("=")||!document.getElementById("mainDisplay").innerHTML)allClear(),document.getElementById("mainDisplay").innerHTML+="(-";else{const e=document.getElementById("mainDisplay").innerHTML,n=e[e.length-1];"×"===n||"÷"===n||"-"===n||"+"===n?"(-"!==e.slice(e.length-2,e.length)&&(document.getElementById("mainDisplay").innerHTML=document.getElementById("mainDisplay").innerHTML+"(-"):document.getElementById("mainDisplay").innerHTML=document.getElementById("mainDisplay").innerHTML+"-"}},parentheses=()=>{const e=document.getElementById("mainDisplay").innerHTML,n=e[e.length-1];if(""===e)return void(document.getElementById("mainDisplay").innerHTML+="(");if(!e.includes("("))return"1234567890)".includes(n)?void(document.getElementById("mainDisplay").innerHTML+="×("):void(document.getElementById("mainDisplay").innerHTML+="(");let t=[],i=[];for(let n=0;n<e.length;n++)"("===e[n]?t.push(n):")"===e[n]&&i.push(n);i.length===t.length?document.getElementById("mainDisplay").innerHTML+="×(":t.length>i.length&&"1234567890)".includes(n)&&(document.getElementById("mainDisplay").innerHTML+=")")},deleteBtn=()=>{document.getElementById("secondDisplay").innerHTML.includes("=")?allClear():document.getElementById("mainDisplay").innerHTML=document.getElementById("mainDisplay").innerHTML.slice(0,document.getElementById("mainDisplay").innerHTML.length-1)},equal=()=>{const mainDisplay=document.getElementById("mainDisplay").innerHTML;if(!mainDisplay)return"return";const mainDisplayLast=mainDisplay[mainDisplay.length-1];if("×"===mainDisplayLast||"÷"===mainDisplayLast||"-"===mainDisplayLast||"+"===mainDisplayLast||"."===mainDisplayLast)return alert("Missing some value!"),"return";let parenthesesCountOne=0,parenthesesCountTwo=0;for(let e=0;e<mainDisplay.length;e++)"("===mainDisplay[e]&&parenthesesCountOne++;for(let e=0;e<mainDisplay.length;e++)")"===mainDisplay[e]&&parenthesesCountTwo++;if(parenthesesCountOne!==parenthesesCountTwo)return alert("Missing some Parentheses!"),"return";let tempString="";for(let e=0;e<mainDisplay.length;e++)"×"===mainDisplay[e]?tempString+="*":"÷"===mainDisplay[e]?tempString+="/":tempString+=mainDisplay[e];document.getElementById("secondDisplay").style.visibility="visible",document.getElementById("secondDisplay").innerHTML=String(mainDisplay)+"=";let result=eval(tempString);if(String(result).includes("Inf"))return document.getElementById("mainDisplay").innerHTML="Cannot divide by 0!",0;document.getElementById("mainDisplay").innerHTML=parseFloat(result.toFixed(7))},percentage=()=>{eval(equal()),document.getElementById("secondDisplay").innerHTML="("+document.getElementById("secondDisplay").innerHTML.slice(0,document.getElementById("secondDisplay").innerHTML.length-1)+")%=",document.getElementById("mainDisplay").innerHTML=document.getElementById("mainDisplay").innerHTML/100},decimal=()=>{const e=document.getElementById("mainDisplay").innerHTML;let n=[];for(let t=0;t<e.length;t++)"-"!==e[t]&&"+"!==e[t]&&"×"!==e[t]&&"÷"!==e[t]||n.push(t);""===e?document.getElementById("mainDisplay").innerHTML=document.getElementById("mainDisplay").innerHTML+"0.":0===n.length?e.includes(".")||(document.getElementById("mainDisplay").innerHTML=document.getElementById("mainDisplay").innerHTML+"."):e.slice(n[n.length-1],e.length).includes(".")||(1!==e.slice(n[n.length-1],e.length).length?document.getElementById("mainDisplay").innerHTML=document.getElementById("mainDisplay").innerHTML+".":document.getElementById("mainDisplay").innerHTML=document.getElementById("mainDisplay").innerHTML+"0.")};
    </script>
    <title>Online Calculator</title>
</head>
<body>
    
    <div class="container">
        <nav> 
            <a href="#"><span>XGamerKH</span></a>
        </nav>
    </div>

    <div class="container">
        <section class="hero">
            <h1 id="mainheader">Online Calculator</h1>
            <div class="main">
                <div class="display">
                    <p id="secondDisplay">0</p> 
                    <p id="mainDisplay"></p>
                </div>
                <table>
                    <tr>
                        <td><button onclick="allClear()">AC</button></td>
                        <td><button onclick="deleteBtn()">Del</button></td>
                        <td><button onclick="easterEgg();percentage()">%</button></td>
                        <td><button onclick="signBtn('÷')">÷</button></td>
                    </tr>
                    <tr>
                        <td><button onclick="numberBtn(7)">7</button></td>
                        <td><button onclick="numberBtn(8)">8</button></td>
                        <td><button onclick="numberBtn(9)">9</button></td>
                        <td><button onclick="signBtn('×')">×</button></td>
                    </tr>
                    <tr>
                        <td><button onclick="numberBtn(4)">4</button></td>
                        <td><button onclick="numberBtn(5)">5</button></td>
                        <td><button onclick="numberBtn(6)">6</button></td>
                        <td><button onclick="signBtn('+')">+</button></td>
                    </tr>
                    <tr>
                        <td><button onclick="numberBtn(1)">1</button></td>
                        <td><button onclick="numberBtn(2)">2</button></td>
                        <td><button onclick="numberBtn(3)">3</button></td>
                        <td><button onclick="minus()">-</button></td>
                    </tr>
                    <tr>
                        <td><button onclick="numberBtn(0)">0</button></td>
                        <td><button onclick="decimal()">.</button></td>
                        <td><button onclick="parentheses()">( )</button></td>
                        <td><button onclick="equal()">=</button></td>
                    </tr>
                </table>
            </div>
        </section>
    </div>

    <div id="container-feature">
        <section class="features">
            <p id="feature">Features that make it like an actual Calculator:</p>
            <ul>
                <li>Smart Brackets</li>
                <li>Pemdas (order of operations)</li>
                <li>Percentage</li>
                <li>Division by 0</li>
            </ul>
            <div id="message"><p class="message">Dear future self! <br> If you're reading this, I know you've made it and I'm really proud of you. FIrst off, if you're going through any hardships, don't stress it; it'll get better, it always will. Just keep going, okay? Anyway, this is where it all began; a simple calculator and a Tic-tac-toe game. I know you're probably laughing at how unnecessary complex and long my code is and that's okay. We all gotta start somewhere. Look at what you've achieved now ya big boy. I'm really proud of you, we all are. Good luck, live long and prosper.</p>
            <cite class="cite">-XGamerKH :)</cite></div>
        </section>
    </div>

    <div class="footer-container">
        <footer>
            <p class="contact">Contact me:</p>
            <a id="facebook" href="https://www.facebook.com/profile.php?id=100009382016475"><img alt="myFacebookAccount" src="https://i.ibb.co/RgQ7h5f/facebook.jpg"></a>
            <a href="https://www.facebook.com/profile.php?id=100009382016475"><img alt="myMessengerAccount" src="https://i.ibb.co/Syxn1yt/messenger.jpg"></a>
        </footer>
    </div>

</body>
</html>
